<!DOCTYPE html>
<html lang="sk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Informácie - Športové hry SHMÚ 2026</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header>
        <nav class="navbar">
            <div class="container">
                <div class="logo">
                    <img src="site_logo.PNG" alt="Logo" class="site-logo">
                    <h1>Metodicko - športové hry XXXII.</h1>
                </div>
                <ul class="nav-menu">
                    <li><a href="index.html">Úvod</a></li>
                    <li><a href="sports.html">Športy</a></li>
                    <li><a href="info.html" class="active">Informácie</a></li>
                    <li><a href="results.php">Výsledky</a></li>
                    <li><a href="gallery.html">Galéria</a></li>
                    <li><a href="history.html">História</a></li>
                </ul>
                <div class="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </nav>
    </header>

    <main>
        <section class="page-header">
            <div class="container">
                <h1>Informácie o podujatí</h1>
                <p>Podrobné informácie o harmonograme, lokácii, ubytovaní, doprave a registrácii</p>
            </div>
        </section>

        <section class="info-content">
            <div class="container">
                <div class="info-section">
                    <h2><i class="fas fa-calendar-alt"></i> Program</h2>
                    <div class="schedule-table">
                        <h3 class="collapsible-header active">
                            Deň 1 - 28. mája 2026
                            <i class="fas fa-chevron-down"></i>
                        </h3>
                        <div class="collapsible-content active">
                        <table>
                            <tr>
                                <td>15:00 - 17:30</td>
                                <td>Príchod účastníkov</td>
                            </tr>
                            <tr>
                                <td>18:00 - 19:00</td>
                                <td>Večera <span class="location-num">5</span></td>
                            </tr>
                            <tr>
                                <td>19:30 - 21:00</td>
                                <td>Zasadnutie športovej komisie <span class="location-num">18</span></td>
                            </tr>
                            <tr>
                                <td>19:30 - 0:00</td>
                                <td>Voľná zábava <span class="location-num">5</span></td>
                            </tr>
                        </table>
                        </div>

                        <h3 class="collapsible-header">
                            Deň 2 - 29. mája 2026
                            <i class="fas fa-chevron-down"></i>
                        </h3>
                        <div class="collapsible-content">
                        <table>
                            <tr>
                                <td>7:00 - 8:30</td>
                                <td>Raňajky <span class="location-num">5</span></td>
                            </tr>
                            <tr>
                                <td>8:30 - 9:00</td>
                                <td>Slávnostné otvorenie <span class="location-num">9</span></td>
                            </tr>
                            <tr>
                                <td>9:00 - 10:30</td>
                                <td>Aqua Cross</td>
                            </tr>
                            <tr>
                                <td>10:30 - 12:00</td>
                                <td>
                                    <ul>
                                        <li class="event-line">Futbal M <span class="location-num">10</span></li>
                                        <li class="event-line">Futbal Ž <span class="location-num">6</span></li>
                                        <li class="event-line">Volejbal M <span class="location-num">12</span></li>
                                        <li class="event-line">Volejbal Ž <span class="location-num">11</span></li>
                                        <li class="event-line">Ping Pong M+Ž <span class="location-num">13</span></li>
                                    </ul>
                                </td>
                            </tr>
                            <tr>
                                <td>12:00 - 13:00</td>
                                <td>Obed <span class="location-num">5</span></td>
                            </tr>
                            <tr>
                                <td>13:00 - 17:00</td>
                                <td>
                                    <ul>
                                        <li class="event-line">Futbal M <span class="location-num">10</span></li>
                                        <li class="event-line">Futbal Ž <span class="location-num">6</span></li>
                                    </ul>
                                </td>
                            </tr>
                            <tr>
                                <td>17:00 - 17:30</td>
                                <td>
                                    <ul>
                                        <li class="event-line">Futbal M o 3. miesto <span class="location-num">10</span></li>
                                        <li class="event-line">Futbal Ž o 3. miesto <span class="location-num">6</span></li>
                                    </ul>
                                </td>
                            </tr>
                            <tr>
                                <td>18:00 - 19:00</td>
                                <td>
                                    <ul>
                                        <li class="event-line">Futbal M finále <span class="location-num">10</span> (2×7 min.)</li>
                                        <li class="event-line">Futbal Ž finále <span class="location-num">10</span> (2×7 min.)</li>
                                    </ul>
                                </td>
                            </tr>
                            <tr>
                                <td>19:00 - 0:00</td>
                                <td>Grilovanie, prasa, voľná zábava <span class="location-num">5</span></td>
                            </tr>
                            <tr>
                                <td>20:00 - 0:00</td>
                                <td>Bowling <span class="location-num">5</span></td>
                            </tr>
                            <tr>
                                <td>20:00 - 21:00</td>
                                <td>Zasadnutie športovej komisie <span class="location-num">18</span></td>
                            </tr>
                        </table>
                        </div>

                        <h3 class="collapsible-header">
                            Deň 3 - 30. mája 2026
                            <i class="fas fa-chevron-down"></i>
                        </h3>
                        <div class="collapsible-content">
                        <table>
                            <tr>
                                <td>7:00 - 8:30</td>
                                <td>Raňajky <span class="location-num">5</span></td>
                            </tr>
                            <tr>
                                <td>8:30 - 10:00</td>
                                <td>Beh</td>
                            </tr>
                            <tr>
                                <td>10:00 - 12:00</td>
                                <td>
                                    <ul>
                                        <li class="event-line">Volejbal M <span class="location-num">12</span></li>
                                        <li class="event-line">Volejbal Ž <span class="location-num">11</span></li>
                                        <li class="event-line">Ping Pong M+Ž <span class="location-num">13</span></li>
                                        <li class="event-line">Hod na kôš, Poraď sa s koňom <span class="location-num">9</span> (priebežne)</li>
                                        <li class="event-line">Minigolf <span class="location-num">8</span> (priebežne)</li>
                                    </ul>
                                </td>
                            </tr>
                            <tr>
                                <td>12:00 - 13:00</td>
                                <td>Obed <span class="location-num">5</span></td>
                            </tr>
                            <tr>
                                <td>13:00 - 17:00</td>
                                <td>Dohrávanie všetkých športov</td>
                            </tr>
                            <tr>
                                <td>17:00 - 18:00</td>
                                <td>Zasadnutie športovej komisie <span class="location-num">18</span></td>
                            </tr>
                            <tr>
                                <td>18:00 - 19:00</td>
                                <td>Večera</td>
                            </tr>
                            <tr>
                                <td>19:30 - 20:00</td>
                                <td>Vyhlásenie výsledkov</td>
                            </tr>
                            <tr>
                                <td>20:00 - 0:00</td>
                                <td>Voľná zábava, DJ</td>
                            </tr>
                        </table>
                        </div>

                        <h3 class="collapsible-header">
                            Deň 4 - 31. mája 2026
                            <i class="fas fa-chevron-down"></i>
                        </h3>
                        <div class="collapsible-content">
                        <table>
                            <tr>
                                <td>7:00 - 8:00</td>
                                <td>Raňajky</td>
                            </tr>
                            <tr>
                                <td>8:00 - 10:00</td>
                                <td>Odjazd účastníkov</td>
                            </tr>
                        </table>
                        </div>
                    </div>
                    
                    <div style="margin-top: 3rem; padding: 1.5rem; background-color: var(--bg-light); border-radius: 8px; border-left: 4px solid var(--primary-color);">
                        <h3 style="color: var(--primary-color); margin-bottom: 1rem;">
                            <i class="fas fa-map-marked-alt"></i> Mapa športovísk a zariadení
                        </h3>
                        <p style="margin-bottom: 1rem; color: var(--text-light);">
                            Čísla v <span class="location-num" style="display: inline-block;">X</span> v programe zodpovedajú číslam na mape:
                        </p>
                        <div style="text-align: center;">
                            <img src="gallery_prev/mapka_sporty.png" alt="Mapa športovísk a zariadení" style="max-width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); cursor: pointer;" class="venue-map">
                        </div>
                        <p style="margin-top: 0.5rem; text-align: center; font-size: 0.85rem; color: var(--text-light); font-style: italic;">
                            Kliknite na mapu pre zväčšenie
                        </p>
                    </div>
                </div>

                <div class="info-section">
                    <h2><i class="fas fa-map-marker-alt"></i> Miesto konania</h2>
                    <div class="venue-info">
                        <h3>Poráč Park relax & sport centrum</h3>
                        <p><strong>Adresa:</strong> Poráčska dolina<br>
                        053 23<br>
                        Slovenská Republika</p>
                        <p><strong>GPS súradnice:</strong> 48.880267°N, 20.742058°E</p>
                        <p><strong>Telefón zariadenia:</strong> <a href="tel:+421905794705">+421 905 794 705</a></p>
                        <p><strong>Email:</strong> <a href="mailto:poracpark@poracpark.sk">poracpark@poracpark.sk</a></p>
                        
                        <div class="map-container" style="margin: 2rem 0;">
                            <iframe 
                                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2631.5!2d20.742058!3d48.880267!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zNDjCsDUyJzQ4Ljk2IlMgMjDCsDQ0JzMxLjQxIlY!5e0!3m2!1ssk!2ssk!4v1234567890123!5m2!1ssk!2ssk&z=12" 
                                width="100%" 
                                height="400" 
                                style="border:0; border-radius: 8px;" 
                                allowfullscreen="" 
                                loading="lazy" 
                                referrerpolicy="no-referrer-when-downgrade">
                            </iframe>
                            <p style="margin-top: 1rem;"><a href="https://www.google.com/maps?q=48.880267,20.742058" target="_blank" style="color: var(--primary-color); text-decoration: none;"><i class="fas fa-external-link-alt"></i> Otvoriť v Google Maps</a></p>
                        </div>

                        <h4>Zariadenia:</h4>
                        <ul>
                            <li>Krytá športová hala</li>
                            <li>Vonkajšie športové ihriská</li>
                            <li>Tenisové kurty</li>
                            <li>Šatne a sprchy</li>
                            <li>Jedálenské zariadenia</li>
                            <li>Parkovanie k dispozícii</li>
                        </ul>
                    </div>
                </div>

                <div class="info-section">
                    <h2><i class="fas fa-hotel"></i> Ubytovanie</h2>
                    <div class="accommodation-info">
                        <p>Ubytovanie bude v Poráč Park relax & sport centrum</p>
                        
                        
                    </div>
                </div>

                <div class="info-section">
                    <h2><i class="fas fa-car"></i> Doprava</h2>
                    <div class="transport-info">
                        <h3>Autom:</h3>
                        <p>z Bratislavy: cez dialnicu D1 & E50</p>
                        
                        <h3>Verejnou dopravou:</h3>
                        <p>z Bratislavy: Hlavná stanica -> Markušovce (prestup Poprad - Tatry)</p>
                        
                    </div>
                </div>

                <div class="info-section">
                    <h2><i class="fas fa-utensils"></i> Stravovanie</h2>
                    <div class="meals-info">
                        <p>Stravovanie je zabezpečené a hradené organizátorom. Presný denný jedálny lístok bude poskytnutý v neskoršom termíne.</p>
                        
                        <p><em>Prosím, informujte nás o prípadných alergiách pri registrácii.</em></p>
                    </div>
                </div>

                <div class="info-section">
                    <h2><i class="fas fa-clipboard-list"></i> Registrácia</h2>
                    <div class="registration-info">
                        <p><strong>Termín:</strong> 18.3.2026</p>
                        <p><strong>Kontakt:</strong> akcie@shmu.sk</p>
                        
                        <!-- Form autofiller (test helper) -->
                        <div style="background: #fef3c7; border: 2px solid #f59e0b; padding: 1rem; margin: 1rem 0; border-radius: 8px;">
                            <button type="button" id="debugFillForm" style="background: #f59e0b; color: white; border: none; padding: 0.5rem 1rem; border-radius: 5px; cursor: pointer; font-weight: 600;">
                                Fill Form with Random Data
                            </button>
                        </div>
                        
                        <h3 style="margin-top: 2rem; margin-bottom: 1rem;">Registračný formulár</h3>
                        <form class="registration-form" id="registrationForm">
                            <div class="form-group">
                                <label for="teamName">Názov tímu - podla minulych rocnikov *</label>
                                <input type="text" id="teamName" name="teamName" required placeholder="Napr. Ostrava 1, Praha 2, Bratislava...">
                            </div>
                            
                            <div class="form-group">
                                <label for="contactPerson">Kontaktná osoba *</label>
                                <input type="text" id="contactPerson" name="contactPerson" required placeholder="Meno a priezvisko">
                            </div>
                            
                            <div class="form-group">
                                <label for="contactEmail">Email kontaktnej osoby *</label>
                                <input type="email" id="contactEmail" name="contactEmail" required placeholder="priklad@email.sk">
                            </div>
                            
                            <div class="form-group">
                                <label for="contactPhone">Telefónne číslo kontaktnej osoby</label>
                                <input type="tel" id="contactPhone" name="contactPhone" placeholder="+421 XXX XXX XXX">
                            </div>

                            <div class="form-group">
                                <label>Počet členov tímu *</label>
                                <input type="number" id="teamSize" name="teamSize" required min="10" max="15" value="10" placeholder="10-15 členov">
                                <small style="color: #6b7280;">Min. 10, Max. 15 členov</small>
                            </div>

                            <div id="teamMembersContainer">
                                <h3 style="margin-top: 2rem; margin-bottom: 1rem;">Údaje členov tímu</h3>
                                <!-- Dynamic team member fields will be inserted here -->
                            </div>
                            
                            <div class="form-group">
                                <label for="notes">Poznámky (voliteľné)</label>
                                <textarea id="notes" name="notes" rows="4" placeholder="Ďalšie informácie..."></textarea>
                            </div>

                            <div class="form-group" style="display: flex; align-items: start; gap: 0.5rem;">
                                <input type="checkbox" id="gdprConsent" name="gdprConsent" required style="width: auto; margin-top: 0.25rem;">
                                <label for="gdprConsent" style="margin: 0; font-weight: 400;">
                                    Súhlasím so spracovaním osobných údajov v súlade s 
                                    <a href="gdpr.html" target="_blank" style="color: var(--primary-color); text-decoration: underline;">GDPR</a> *
                                </label>
                            </div>
                            
                            <button type="submit" class="btn btn-submit">
                                <i class="fas fa-paper-plane"></i> Odoslať registráciu
                            </button>
                        </form>
                        
                        <p style="margin-top: 1.5rem; font-size: 0.9rem; color: #6b7280;"><em>* Povinné polia</em></p>
                    </div>
                </div>

                <div class="info-section contact-box">
                    <h2><i class="fas fa-phone"></i> Kontakt</h2>
                    <p>Pre akékoľvek otázky prosím kontaktujte organizačný výbor:</p>
                    <p><strong>Email:</strong> <a href="mailto:akcie@shmu.sk">akcie@shmu.sk</a><br>
                    <strong>Telefón:</strong> [Telefónne číslo]<br>
                    <strong>Koordinátori podujatia: </strong>Danáčová Zuzana a Borároš Tomáš </p>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <div class="footer-logos">
                <img src="logoCHMI_white.png" alt="ČHMÚ Logo">
                <img src="logoSHMI_white.png" alt="SHMÚ Logo">
            </div>
            <p>&copy; 2026 Slovenský hydrometeorologický ústav</p>
            <p>XXXII. športové hry SHMÚ & ČHMÚ</p>
            <p><a href="gdpr.html" style="color: rgba(255,255,255,0.8); text-decoration: none;">Ochrana osobných údajov (GDPR)</a></p>
        </div>
    </footer>

    <script src="js/script.js"></script>
    <script>
        // Collapsible schedule functionality
        window.addEventListener('load', function() {
            const headers = document.querySelectorAll('.schedule-table .collapsible-header');
            
            if (headers.length === 0) return;
            
            // Open first day by default
            headers[0].classList.add('active');
            const firstContent = headers[0].nextElementSibling;
            if (firstContent && firstContent.classList.contains('collapsible-content')) {
                firstContent.classList.add('active');
            }
            
            // Add click handlers to each header
            headers.forEach(function(header) {
                header.onclick = function() {
                    this.classList.toggle('active');
                    const content = this.nextElementSibling;
                    if (content && content.classList.contains('collapsible-content')) {
                        content.classList.toggle('active');
                    }
                };
            });
        });

        // Generate dynamic team member fields
        function generateTeamMemberFields(count) {
            const container = document.getElementById('teamMembersContainer');
            const heading = container.querySelector('h3');
            container.innerHTML = '';
            if (heading) container.appendChild(heading);
            
            for (let i = 1; i <= count; i++) {
                const memberDiv = document.createElement('div');
                memberDiv.className = 'team-member-section';
                memberDiv.style.cssText = 'border: 2px solid #e5e7eb; padding: 1.5rem; margin-bottom: 1.5rem; border-radius: 8px; background-color: #f9fafb;';
                
                memberDiv.innerHTML = `
                    <h4 style="margin-top: 0; margin-bottom: 1rem; color: var(--primary-color);">Člen ${i}</h4>
                    <div class="form-group">
                        <label for="memberName${i}">Meno a priezvisko *</label>
                        <input type="text" id="memberName${i}" name="memberName${i}" required placeholder="Meno a priezvisko">
                    </div>
                    <div class="form-group">
                        <label for="memberDob${i}">Dátum narodenia *</label>
                        <input type="date" id="memberDob${i}" name="memberDob${i}" required>
                    </div>
                    <div class="form-group">
                        <label for="memberTshirt${i}">Veľkosť tričká *</label>
                        <select id="memberTshirt${i}" name="memberTshirt${i}" required style="width: 100%; padding: 0.75rem; border: 2px solid var(--border-color); border-radius: 5px; font-family: inherit; font-size: 1rem;">
                            <option value="">Vyberte veľkosť</option>
                            <option value="XS">XS</option>
                            <option value="S">S</option>
                            <option value="M">M</option>
                            <option value="L">L</option>
                            <option value="XL">XL</option>
                            <option value="XXL">XXL</option>
                            <option value="XXXL">XXXL</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="memberAllergies${i}">Alergie (na jedlo)</label>
                        <input type="text" id="memberAllergies${i}" name="memberAllergies${i}" placeholder="Napr: arašidy, laktóza, lepok...">
                    </div>
                `;
                
                container.appendChild(memberDiv);
            }
        }
        
        // Initialize with 10 members
        generateTeamMemberFields(10);
        
        // Update fields when team size changes
        document.getElementById('teamSize').addEventListener('change', function(e) {
            const count = parseInt(e.target.value);
            if (count >= 5 && count <= 15) {
                generateTeamMemberFields(count);
            }
        });
        
        // Form autofiller (test helper)
        document.getElementById('debugFillForm').addEventListener('click', function() {
            const cities = ['Bratislava', 'Praha 1', 'Praha 2', 'Ostrava 1', 'Ostrava 2', 'Brno', 'Košice', 'Žilina'];
            const firstNames = ['Ján', 'Peter', 'Mária', 'Anna', 'Milan', 'Eva', 'Tomáš', 'Katarína', 'Martin', 'Zuzana', 'Michal', 'Lucia', 'Jakub', 'Petra', 'Marek'];
            const lastNames = ['Novák', 'Horváth', 'Kovács', 'Tóth', 'Nagy', 'Varga', 'Molnár', 'Szabó', 'Dvořák', 'Černý', 'Procházka', 'Kučera', 'Veselý'];
            const tshirtSizes = ['XS', 'S', 'M', 'L', 'XL', 'XXL', 'XXXL'];
            const allergiesList = ['Žiadne', 'Laktóza', 'Lepok', 'Orechy', 'Vajcia', 'Žiadne alergie'];
            
            // Generate random date of birth between 1970 and 2000
            function randomDate() {
                const year = 1970 + Math.floor(Math.random() * 30);
                const month = String(1 + Math.floor(Math.random() * 12)).padStart(2, '0');
                const day = String(1 + Math.floor(Math.random() * 28)).padStart(2, '0');
                return `${year}-${month}-${day}`;
            }
            
            const randomCity = cities[Math.floor(Math.random() * cities.length)];
            const randomName = firstNames[Math.floor(Math.random() * firstNames.length)] + ' ' + lastNames[Math.floor(Math.random() * lastNames.length)];
            
            // Fill basic fields
            document.getElementById('teamName').value = randomCity;
            document.getElementById('contactPerson').value = randomName;
            document.getElementById('contactEmail').value = 'test' + Math.floor(Math.random() * 1000) + '@example.com';
            document.getElementById('contactPhone').value = '+421 9' + Math.floor(Math.random() * 90000000 + 10000000);
            document.getElementById('notes').value = 'Toto je testovacia registrácia.';
            
            // Set team size to 10
            const teamSizeInput = document.getElementById('teamSize');
            teamSizeInput.value = 10;
            teamSizeInput.dispatchEvent(new Event('change'));
            
            // Wait a bit for fields to generate, then fill them
            setTimeout(function() {
                for (let i = 1; i <= 10; i++) {
                    const firstName = firstNames[Math.floor(Math.random() * firstNames.length)];
                    const lastName = lastNames[Math.floor(Math.random() * lastNames.length)];
                    
                    // Fill name
                    const nameField = document.querySelector(`input[name="memberName${i}"]`);
                    if (nameField) {
                        nameField.value = firstName + ' ' + lastName;
                    }
                    
                    // Fill date of birth
                    const dobField = document.querySelector(`input[name="memberDob${i}"]`);
                    if (dobField) {
                        dobField.value = randomDate();
                    }
                    
                    // Fill t-shirt size
                    const tshirtSelect = document.querySelector(`select[name="memberTshirt${i}"]`);
                    if (tshirtSelect) {
                        const randomSize = tshirtSizes[Math.floor(Math.random() * tshirtSizes.length)];
                        tshirtSelect.value = randomSize;
                    }
                    
                    // Fill allergies
                    const allergyField = document.querySelector(`input[name="memberAllergies${i}"]`);
                    if (allergyField) {
                        const randomAllergy = allergiesList[Math.floor(Math.random() * allergiesList.length)];
                        allergyField.value = randomAllergy;
                    }
                }
                
                // Check GDPR
                document.getElementById('gdprConsent').checked = true;
                
                alert('✓ Formulár bol vyplnený testovacími údajmi!');
            }, 100);
        });
        
        // Handle registration form submission
        document.getElementById('registrationForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Check GDPR consent
            if (!document.getElementById('gdprConsent').checked) {
                alert('Musíte súhlasiť so spracovaním osobných údajov (GDPR).');
                return;
            }
            
            const teamName = document.getElementById('teamName').value;
            const contactPerson = document.getElementById('contactPerson').value;
            const contactEmail = document.getElementById('contactEmail').value;
            const contactPhone = document.getElementById('contactPhone').value;
            const notes = document.getElementById('notes').value;
            const teamSize = parseInt(document.getElementById('teamSize').value);
            
            // Collect team member data
            const members = [];
            const tshirtSizes = {};
            const allergies = {};
            
            for (let i = 1; i <= teamSize; i++) {
                const name = document.getElementById('memberName' + i).value;
                const dob = document.getElementById('memberDob' + i).value;
                const tshirt = document.getElementById('memberTshirt' + i).value;
                const allergy = document.getElementById('memberAllergies' + i).value;
                
                members.push({
                    name: name,
                    dob: dob,
                    tshirt: tshirt,
                    allergies: allergy
                });
                
                // Count t-shirt sizes
                tshirtSizes[tshirt] = (tshirtSizes[tshirt] || 0) + 1;
                
                // Count allergies
                if (allergy && allergy.trim() !== '') {
                    const allergyList = allergy.split(',').map(a => a.trim());
                    allergyList.forEach(a => {
                        if (a) allergies[a] = (allergies[a] || 0) + 1;
                    });
                }
            }
            
            // Prepare data for sending
            const registrationData = {
                teamName: teamName,
                contactPerson: contactPerson,
                contactEmail: contactEmail,
                contactPhone: contactPhone,
                teamSize: teamSize,
                members: members,
                tshirtSummary: tshirtSizes,
                allergySummary: allergies,
                notes: notes
            };
            
            // Show loading message
            const submitButton = document.querySelector('.btn-submit');
            const originalButtonText = submitButton.innerHTML;
            submitButton.disabled = true;
            submitButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Odeosielam...';
            
            // Send data via AJAX
            fetch('send-registration.php', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(registrationData)
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    alert('✓ ' + data.message + '\n\nEmail bol odoslaný na akcie@shmu.sk');
                    // Reset form
                    document.getElementById('registrationForm').reset();
                    generateTeamMemberFields(5);
                    document.getElementById('teamSize').value = 5;
                } else {
                    alert('✗ ' + data.message);
                }
            })
            .catch(error => {
                console.error('Error:', error);
                alert('✗ Chyba pri odosielaní formulára. Prosím, skúste znova alebo kontaktujte organizátorov na akcie@shmu.sk');
            })
            .finally(() => {
                // Restore button
                submitButton.disabled = false;
                submitButton.innerHTML = originalButtonText;
            });
        });
    </script>
</body>
</html>
