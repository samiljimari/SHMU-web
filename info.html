<!DOCTYPE html>
<html lang="sk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Informácie - Športové hry SHMÚ 2026</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header>
        <nav class="navbar">
            <div class="container">
                <div class="logo">
                    <img src="site_logo.PNG" alt="Logo" class="site-logo">
                    <h1>Metodicko - športové hry XXXII.</h1>
                </div>
                <ul class="nav-menu">
                    <li><a href="index.html">Úvod</a></li>
                    <li><a href="sports.html">Športy</a></li>
                    <li><a href="info.html" class="active">Informácie</a></li>
                    <li><a href="results.php">Výsledky</a></li>
                    <li><a href="gallery.html">Galéria</a></li>
                    <li><a href="history.html">História</a></li>
                </ul>
                <div class="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </nav>
    </header>

    <main>
        <section class="page-header">
            <div class="container">
                <h1>Informácie o podujatí</h1>
                <p>Podrobné informácie o harmonograme, lokácii, ubytovaní, doprave a registrácii</p>
            </div>
        </section>

        <section class="info-content">
            <div class="container">
                <div class="info-section">
                    <h2><i class="fas fa-calendar-alt"></i> Program</h2>
                    <div class="schedule-table">
                        <h3 class="collapsible-header active">
                            Deň 1 - 28. mája 2026
                            <i class="fas fa-chevron-down"></i>
                        </h3>
                        <div class="collapsible-content active">
                        <table>
                            <tr>
                                <td>15:00 - 17:30</td>
                                <td>Príchod účastníkov</td>
                            </tr>
                            <tr>
                                <td>18:00 - 19:00</td>
                                <td>Večera <span class="location-num">5</span></td>
                            </tr>
                            <tr>
                                <td>19:30 - 21:00</td>
                                <td>Zasadnutie športovej komisie <span class="location-num">18</span></td>
                            </tr>
                            <tr>
                                <td>19:30 - 0:00</td>
                                <td>Voľná zábava <span class="location-num">5</span></td>
                            </tr>
                        </table>
                        </div>

                        <h3 class="collapsible-header">
                            Deň 2 - 29. mája 2026
                            <i class="fas fa-chevron-down"></i>
                        </h3>
                        <div class="collapsible-content">
                        <table>
                            <tr>
                                <td>7:00 - 8:30</td>
                                <td>Raňajky <span class="location-num">5</span></td>
                            </tr>
                            <tr>
                                <td>8:30 - 9:00</td>
                                <td>Slávnostné otvorenie <span class="location-num">9</span></td>
                            </tr>
                            <tr>
                                <td>9:00 - 10:30</td>
                                <td>Aqua Cross</td>
                            </tr>
                            <tr>
                                <td>10:30 - 12:00</td>
                                <td>
                                    <ul>
                                        <li class="event-line">Futbal M <span class="location-num">10</span></li>
                                        <li class="event-line">Futbal Ž <span class="location-num">6</span></li>
                                        <li class="event-line">Volejbal M <span class="location-num">12</span></li>
                                        <li class="event-line">Volejbal Ž <span class="location-num">11</span></li>
                                        <li class="event-line">Ping Pong M+Ž <span class="location-num">13</span></li>
                                    </ul>
                                </td>
                            </tr>
                            <tr>
                                <td>12:00 - 13:00</td>
                                <td>Obed <span class="location-num">5</span></td>
                            </tr>
                            <tr>
                                <td>13:00 - 17:00</td>
                                <td>
                                    <ul>
                                        <li class="event-line">Futbal M <span class="location-num">10</span></li>
                                        <li class="event-line">Futbal Ž <span class="location-num">6</span></li>
                                    </ul>
                                </td>
                            </tr>
                            <tr>
                                <td>17:00 - 17:30</td>
                                <td>
                                    <ul>
                                        <li class="event-line">Futbal M o 3. miesto <span class="location-num">10</span></li>
                                        <li class="event-line">Futbal Ž o 3. miesto <span class="location-num">6</span></li>
                                    </ul>
                                </td>
                            </tr>
                            <tr>
                                <td>18:00 - 19:00</td>
                                <td>
                                    <ul>
                                        <li class="event-line">Futbal M finále <span class="location-num">10</span> (2×7 min.)</li>
                                        <li class="event-line">Futbal Ž finále <span class="location-num">10</span> (2×7 min.)</li>
                                    </ul>
                                </td>
                            </tr>
                            <tr>
                                <td>19:00 - 0:00</td>
                                <td>Grilovanie, prasa, voľná zábava <span class="location-num">5</span></td>
                            </tr>
                            <tr>
                                <td>20:00 - 0:00</td>
                                <td>Bowling <span class="location-num">5</span></td>
                            </tr>
                            <tr>
                                <td>20:00 - 21:00</td>
                                <td>Zasadnutie športovej komisie <span class="location-num">18</span></td>
                            </tr>
                        </table>
                        </div>

                        <h3 class="collapsible-header">
                            Deň 3 - 30. mája 2026
                            <i class="fas fa-chevron-down"></i>
                        </h3>
                        <div class="collapsible-content">
                        <table>
                            <tr>
                                <td>7:00 - 8:30</td>
                                <td>Raňajky <span class="location-num">5</span></td>
                            </tr>
                            <tr>
                                <td>8:30 - 10:00</td>
                                <td>Beh</td>
                            </tr>
                            <tr>
                                <td>10:00 - 12:00</td>
                                <td>
                                    <ul>
                                        <li class="event-line">Volejbal M <span class="location-num">12</span></li>
                                        <li class="event-line">Volejbal Ž <span class="location-num">11</span></li>
                                        <li class="event-line">Ping Pong M+Ž <span class="location-num">13</span></li>
                                        <li class="event-line">Hod na kôš, Poraď sa s koňom <span class="location-num">9</span> (priebežne)</li>
                                        <li class="event-line">Minigolf <span class="location-num">8</span> (priebežne)</li>
                                    </ul>
                                </td>
                            </tr>
                            <tr>
                                <td>12:00 - 13:00</td>
                                <td>Obed <span class="location-num">5</span></td>
                            </tr>
                            <tr>
                                <td>13:00 - 17:00</td>
                                <td>Dohrávanie všetkých športov</td>
                            </tr>
                            <tr>
                                <td>17:00 - 18:00</td>
                                <td>Zasadnutie športovej komisie <span class="location-num">18</span></td>
                            </tr>
                            <tr>
                                <td>18:00 - 19:00</td>
                                <td>Večera</td>
                            </tr>
                            <tr>
                                <td>19:30 - 20:00</td>
                                <td>Vyhlásenie výsledkov</td>
                            </tr>
                            <tr>
                                <td>20:00 - 0:00</td>
                                <td>Voľná zábava, DJ</td>
                            </tr>
                        </table>
                        </div>

                        <h3 class="collapsible-header">
                            Deň 4 - 31. mája 2026
                            <i class="fas fa-chevron-down"></i>
                        </h3>
                        <div class="collapsible-content">
                        <table>
                            <tr>
                                <td>7:00 - 8:00</td>
                                <td>Raňajky</td>
                            </tr>
                            <tr>
                                <td>8:00 - 10:00</td>
                                <td>Odjazd účastníkov</td>
                            </tr>
                        </table>
                        </div>
                    </div>
                </div>

                <div class="info-section">
                    <h2><i class="fas fa-map-marker-alt"></i> Miesto konania</h2>
                    <div class="venue-info">
                        <h3>Poráč Park relax & sport centrum</h3>
                        <p><strong>Adresa:</strong> Poráčska dolina<br>
                        053 23<br>
                        Slovenská Republika</p>
                        <p><strong>GPS súradnice:</strong> 48.880267°N, 20.742058°E</p>
                        <p><strong>Telefón zariadenia:</strong> <a href="tel:+421905794705">+421 905 794 705</a></p>
                        <p><strong>Email:</strong> <a href="mailto:poracpark@poracpark.sk">poracpark@poracpark.sk</a></p>
                        
                        <div class="map-container" style="margin: 2rem 0;">
                            <iframe 
                                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2631.5!2d20.742058!3d48.880267!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zNDjCsDUyJzQ4Ljk2IlMgMjDCsDQ0JzMxLjQxIlY!5e0!3m2!1ssk!2ssk!4v1234567890123!5m2!1ssk!2ssk&z=12" 
                                width="100%" 
                                height="400" 
                                style="border:0; border-radius: 8px;" 
                                allowfullscreen="" 
                                loading="lazy" 
                                referrerpolicy="no-referrer-when-downgrade">
                            </iframe>
                            <p style="margin-top: 1rem;"><a href="https://www.google.com/maps?q=48.880267,20.742058" target="_blank" style="color: var(--primary-color); text-decoration: none;"><i class="fas fa-external-link-alt"></i> Otvoriť v Google Maps</a></p>
                        </div>

                        <h4>Zariadenia:</h4>
                        <ul>
                            <li>Krytá športová hala</li>
                            <li>Vonkajšie športové ihriská</li>
                            <li>Tenisové kurty</li>
                            <li>Šatne a sprchy</li>
                            <li>Jedálenské zariadenia</li>
                            <li>Parkovanie k dispozícii</li>
                        </ul>
                    </div>
                </div>

                <div class="info-section">
                    <h2><i class="fas fa-hotel"></i> Ubytovanie</h2>
                    <div class="accommodation-info">
                        <p>Ubytovanie bude v Poráč Park relax & sport centrum</p>
                        
                        
                    </div>
                </div>

                <div class="info-section">
                    <h2><i class="fas fa-car"></i> Doprava</h2>
                    <div class="transport-info">
                        <h3>Autom:</h3>
                        <p>[Pokyny pre vodičov z hlavných miest]</p>
                        
                        <h3>Verejnou dopravou:</h3>
                        <p>[Informácie o autobusoch/vlakoch]</p>
                        
                    </div>
                </div>

                <div class="info-section">
                    <h2><i class="fas fa-utensils"></i> Stravovanie</h2>
                    <div class="meals-info">
                        <p>Stravovanie je zabezpečené a hradené organizátorom. Presný denný jedálny lístok bude poskytnutý v neskoršom termíne.</p>
                        
                        <p><em>Prosím, informujte nás o prípadných alergiách pri registrácii.</em></p>
                    </div>
                </div>

                <div class="info-section">
                    <h2><i class="fas fa-clipboard-list"></i> Registrácia</h2>
                    <div class="registration-info">
                        <p><strong>Termín:</strong> [Vložiť dátum]</p>
                        <p><strong>Kontakt:</strong> akcie@shmu.sk</p>
                        
                        <h3 style="margin-top: 2rem; margin-bottom: 1rem;">Registračný formulár</h3>
                        <form class="registration-form" id="registrationForm">
                            <div class="form-group">
                                <label for="teamName">Názov tímu - podla minulych rocnikov *</label>
                                <input type="text" id="teamName" name="teamName" required placeholder="Napr. Ostrava 1, Praha 2, Bratislava...">
                            </div>
                            
                            <div class="form-group">
                                <label for="contactPerson">Kontaktná osoba *</label>
                                <input type="text" id="contactPerson" name="contactPerson" required placeholder="Meno a priezvisko">
                            </div>
                            
                            <div class="form-group">
                                <label for="contactEmail">Email kontaktnej osoby *</label>
                                <input type="email" id="contactEmail" name="contactEmail" required placeholder="priklad@email.sk">
                            </div>
                            
                            <div class="form-group">
                                <label for="contactPhone">Telefónne číslo kontaktnej osoby</label>
                                <input type="tel" id="contactPhone" name="contactPhone" placeholder="+421 XXX XXX XXX">
                            </div>

                            <div class="form-group">
                                <label>Počet členov tímu *</label>
                                <input type="number" id="teamSize" name="teamSize" required min="10" max="15" value="10" placeholder="10-15 členov">
                                <small style="color: #6b7280;">Min. 10, Max. 15 členov</small>
                            </div>

                            <div id="teamMembersContainer">
                                <h3 style="margin-top: 2rem; margin-bottom: 1rem;">Údaje členov tímu</h3>
                                <!-- Dynamic team member fields will be inserted here -->
                            </div>
                            
                            <div class="form-group">
                                <label for="notes">Poznámky (voliteľné)</label>
                                <textarea id="notes" name="notes" rows="4" placeholder="Ďalšie informácie..."></textarea>
                            </div>

                            <div class="form-group" style="display: flex; align-items: start; gap: 0.5rem;">
                                <input type="checkbox" id="gdprConsent" name="gdprConsent" required style="width: auto; margin-top: 0.25rem;">
                                <label for="gdprConsent" style="margin: 0; font-weight: 400;">
                                    Súhlasím so spracovaním osobných údajov v súlade s 
                                    <a href="gdpr.html" target="_blank" style="color: var(--primary-color); text-decoration: underline;">GDPR</a> *
                                </label>
                            </div>
                            
                            <button type="submit" class="btn btn-submit">
                                <i class="fas fa-paper-plane"></i> Odoslať registráciu
                            </button>
                        </form>
                        
                        <p style="margin-top: 1.5rem; font-size: 0.9rem; color: #6b7280;"><em>* Povinné polia</em></p>
                    </div>
                </div>

                <div class="info-section contact-box">
                    <h2><i class="fas fa-phone"></i> Kontakt</h2>
                    <p>Pre akékoľvek otázky prosím kontaktujte organizačný výbor:</p>
                    <p><strong>Email:</strong> <a href="mailto:akcie@shmu.sk">akcie@shmu.sk</a><br>
                    <strong>Telefón:</strong> [Telefónne číslo]<br>
                    <strong>Koordinátor podujatia:</strong> [Meno]</p>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <div class="footer-logos">
                <img src="logoCHMI_white.png" alt="ČHMÚ Logo">
                <img src="logoSHMI_white.png" alt="SHMÚ Logo">
            </div>
            <p>&copy; 2026 Slovenský hydrometeorologický ústav</p>
            <p>XXXII. športové hry SHMÚ & ČHMÚ</p>
            <p><a href="gdpr.html" style="color: rgba(255,255,255,0.8); text-decoration: none;">Ochrana osobných údajov (GDPR)</a></p>
        </div>
    </footer>

    <script src="js/script.js"></script>
    <script>
        // Collapsible schedule functionality
        window.addEventListener('load', function() {
            console.log('Initializing collapsible headers...');
            
            const headers = document.querySelectorAll('.schedule-table .collapsible-header');
            console.log('Found headers:', headers.length);
            
            if (headers.length === 0) {
                console.warn('No collapsible headers found!');
                return;
            }
            
            // Open first day by default
            headers[0].classList.add('active');
            const firstContent = headers[0].nextElementSibling;
            if (firstContent && firstContent.classList.contains('collapsible-content')) {
                firstContent.classList.add('active');
                console.log('First day opened by default');
            }
            
            // Add click handlers to each header
            headers.forEach(function(header, index) {
                console.log('Adding listener to header', index + 1);
                
                header.onclick = function(e) {
                    console.log('Header clicked:', index + 1);
                    
                    // Toggle active class on header
                    this.classList.toggle('active');
                    
                    // Get the next element (content)
                    const content = this.nextElementSibling;
                    
                    // Toggle content if it exists and has the right class
                    if (content && content.classList.contains('collapsible-content')) {
                        content.classList.toggle('active');
                        console.log('Toggled content for header', index + 1, '- Active:', content.classList.contains('active'));
                    } else {
                        console.warn('Content not found for header', index + 1);
                    }
                };
            });
            
            console.log('Collapsible headers initialized successfully');
        });

        // Generate dynamic team member fields
        function generateTeamMemberFields(count) {
            const container = document.getElementById('teamMembersContainer');
            const heading = container.querySelector('h3');
            container.innerHTML = '';
            if (heading) container.appendChild(heading);
            
            for (let i = 1; i <= count; i++) {
                const memberDiv = document.createElement('div');
                memberDiv.className = 'team-member-section';
                memberDiv.style.cssText = 'border: 2px solid #e5e7eb; padding: 1.5rem; margin-bottom: 1.5rem; border-radius: 8px; background-color: #f9fafb;';
                
                memberDiv.innerHTML = `
                    <h4 style="margin-top: 0; margin-bottom: 1rem; color: var(--primary-color);">Člen ${i}</h4>
                    <div class="form-group">
                        <label for="memberName${i}">Meno a priezvisko *</label>
                        <input type="text" id="memberName${i}" name="memberName${i}" required placeholder="Meno a priezvisko">
                    </div>
                    <div class="form-group">
                        <label for="memberDob${i}">Dátum narodenia *</label>
                        <input type="date" id="memberDob${i}" name="memberDob${i}" required>
                    </div>
                    <div class="form-group">
                        <label for="memberTshirt${i}">Veľkosť tričká *</label>
                        <select id="memberTshirt${i}" name="memberTshirt${i}" required style="width: 100%; padding: 0.75rem; border: 2px solid var(--border-color); border-radius: 5px; font-family: inherit; font-size: 1rem;">
                            <option value="">Vyberte veľkosť</option>
                            <option value="XS">XS</option>
                            <option value="S">S</option>
                            <option value="M">M</option>
                            <option value="L">L</option>
                            <option value="XL">XL</option>
                            <option value="XXL">XXL</option>
                            <option value="XXXL">XXXL</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="memberAllergies${i}">Alergie (na jedlo)</label>
                        <input type="text" id="memberAllergies${i}" name="memberAllergies${i}" placeholder="Napr: arašidy, laktóza, lepok...">
                    </div>
                `;
                
                container.appendChild(memberDiv);
            }
        }
        
        // Initialize with 10 members
        generateTeamMemberFields(10);
        
        // Update fields when team size changes
        document.getElementById('teamSize').addEventListener('change', function(e) {
            const count = parseInt(e.target.value);
            if (count >= 5 && count <= 15) {
                generateTeamMemberFields(count);
            }
        });
        
        // Handle registration form submission
        document.getElementById('registrationForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Check GDPR consent
            if (!document.getElementById('gdprConsent').checked) {
                alert('Musíte súhlasiť so spracovaním osobných údajov (GDPR).');
                return;
            }
            
            const teamName = document.getElementById('teamName').value;
            const contactPerson = document.getElementById('contactPerson').value;
            const contactEmail = document.getElementById('contactEmail').value;
            const contactPhone = document.getElementById('contactPhone').value;
            const notes = document.getElementById('notes').value;
            const teamSize = parseInt(document.getElementById('teamSize').value);
            
            // Collect team member data
            const members = [];
            const tshirtSizes = {};
            const allergies = {};
            
            for (let i = 1; i <= teamSize; i++) {
                const name = document.getElementById('memberName' + i).value;
                const dob = document.getElementById('memberDob' + i).value;
                const tshirt = document.getElementById('memberTshirt' + i).value;
                const allergy = document.getElementById('memberAllergies' + i).value;
                
                members.push({
                    name: name,
                    dob: dob,
                    tshirt: tshirt,
                    allergies: allergy
                });
                
                // Count t-shirt sizes
                tshirtSizes[tshirt] = (tshirtSizes[tshirt] || 0) + 1;
                
                // Count allergies
                if (allergy && allergy.trim() !== '') {
                    const allergyList = allergy.split(',').map(a => a.trim());
                    allergyList.forEach(a => {
                        if (a) allergies[a] = (allergies[a] || 0) + 1;
                    });
                }
            }
            
            // Prepare data for sending
            const registrationData = {
                teamName: teamName,
                contactPerson: contactPerson,
                contactEmail: contactEmail,
                contactPhone: contactPhone,
                teamSize: teamSize,
                members: members,
                tshirtSummary: tshirtSizes,
                allergySummary: allergies,
                notes: notes
            };
            
            // Show loading message
            const submitButton = document.querySelector('.btn-submit');
            const originalButtonText = submitButton.innerHTML;
            submitButton.disabled = true;
            submitButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Odeosielam...';
            
            // Send data via AJAX
            fetch('send-registration.php', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(registrationData)
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    alert('✓ ' + data.message + '\n\nEmail bol odoslaný na akcie@shmu.sk');
                    // Reset form
                    document.getElementById('registrationForm').reset();
                    generateTeamMemberFields(5);
                    document.getElementById('teamSize').value = 5;
                } else {
                    alert('✗ ' + data.message);
                }
            })
            .catch(error => {
                console.error('Error:', error);
                alert('✗ Chyba pri odosielaní formulára. Prosím, skúste znova alebo kontaktujte organizátorov na akcie@shmu.sk');
            })
            .finally(() => {
                // Restore button
                submitButton.disabled = false;
                submitButton.innerHTML = originalButtonText;
            });
        });
    </script>
</body>
</html>
